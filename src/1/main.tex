\chapter{Súčasné metódy nahrávania obrázkov}

Aby sa dali veci robiť lepšie a~efektívnejšie, je najprv potrebné preskúmať už vytvorené spôsoby a~uvedomiť si ich nedostatky. Zamedzí sa tak opakovaniu chýb.
  

\section{HTML tág <input\textgreater}

Historicky prvým spôsobom je nepárový tág \emph{<input type="file"\textgreater}. Objavil sa už v~roku 1997, keď konzorcium W3C vydalo štandard \emph{HTML 3.2} \cite{html32}. Umožňuje nahrávanie súborov a~teda aj obrázkov ako súčasť zaslaného formulára, a~teda sa vždy musí vyskytovať uprostred tágu <form\textgreater. Scénar nahrávania prebieha nasledovne:
\begin{enumerate}
	\item Užívateľ myšou klikne na~tlačidlo "Zvoliť súbor"
	\item Vyskočí modálne okno, z~ktorého užívateľ vyberie obrázok
	\item Užívateľ odošle formulár, obrázok je odoslaný na~server, kde je spracovaný
\end{enumerate}

Výhody tohto riešenia sú predovšetkým:
\begin{itemize}
	\item Natívna podpora v~prehliadači - nie sú potrebné žiadne ďalšie JavaScriptové súbory
	\item Jednoduché použitie
\end{itemize}

// TODO: schéma


\section{FormData a~XMLHttpRequest}

\emph{XMLHttpRequest Level 2} pridáva nové rozhranie \emph{FormData}, ktoré umožňuje vytvoriť reprezentáciu formulára v~tvare kľúč-hodnota, čím umožňuje zaslať formulár pomocou \emph{XMLHttpRequest} \cite{MDN_Formdata}. \emph{XMLHttpRequest} je API, ktoré umožňuje prenášať dáta medzi~prehliadačom a~serverom bez~toho aby nastal refresh \cite{MDN_XMLHttpRequest}.

Vďaka \emph{FormData} je možné odstrániť limitáciu, kde \emph{<input type="file"\textgreater} musí byť vložený do~formulára (<form\textgreater). Použitím \emph{XMLHttpRequest} eventu \emph{onprogress} je možné sledovať proces nahrávania \cite{MDN_XMLHttpRequest_progress}. Scénar nahrávania môže vyzerať nasledovne:
\begin{enumerate}
	\item Užívateľ myšou klikne na~tlačidlo "Zvoliť súbor"
	\item Vyskočí modálne okno, z~ktorého užívateľ vyberie obrázok
	\item Obrázok sa odošle na~server, zatiaľ čo sleduje proces nahrávania. Keď je obrázok plne nahratý a~spracovaný, odošle sa jeho odkaz naspäť užívateľovi do~prehliadača.
	\item Užívateľovi sa zobrazí nahraný obrázok, pokiaľ s~ním nie je spokojný, postupuje od~bodu 1, ak je spokojný odošle formulár. V~tomto prípade nedochádza ku~žiadnej manipulácií s~obrázkom.
\end{enumerate}

Výhody tohto riešenia sú predovšetkým:
\begin{itemize}
	\item Nie je potrebné umiestnenie vo formulári
	\item Je možné zaslať obrázok na~pozadí, čo umožňuje využitie v~moderných webových aplikáciach, kde je refresh nežiadúci
	\item Počas nahrávania je možné zobraziť progres
	\item Po~nahratí obrázka na~server, je možné obrázok užívateľovi zobraziť. A~teda ho vidí pred~potvrdením formulára.
\end{itemize}

// TODO: schéma


\section{Flash a~Silverlight}

// TODO: Netuším ako to vnútorne funguje, ale oba sú mŕtve. Zistiť.

Výhody:
\begin{itemize}
	\item Je možné použiť drag&drop na~zvolenie obrázka
	\item Je možné zobraziť obrázok pred~odoslaním
	\item Počas nahrávania je možné zobraziť progress
\end{itemize}